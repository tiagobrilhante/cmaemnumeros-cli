webpackJsonp([0],{v7L5:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),o=s.n(a),r=s("TPW+"),n=s("ESwS"),i=s("+cKO"),c=s("NYxO"),l={data:function(){return{show1:!1,password:""}},mixins:[r.a,n.validationMixin],validations:{password:{required:i.required}},computed:o()({passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push('O Campo "Senha" não pode ficar em branco! '),t):t}},Object(c.b)(["usuarioLogado"])),methods:{alterarSenhaResetada:function(){var t=this;if(this.$v.$touch(),!this.$v.$invalid){var e={};e.id=this.usuarioLogado.id,e.password=this.password,this.$http.post("users/password/reset",e).then(function(){t.$toastr.s("Senha alterada com sucesso","Sucesso!"),t.$store.commit("DESLOGAR_USUARIO"),t.$router.push({name:"login"})},function(e){console.log(e),t.$toastr.e("Não foi possível alterar a senha","Erro!")})}}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-main",[s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"mt-5"},[s("v-col",{attrs:{cols:"6",offset:"3"}},[s("v-card",{attrs:{elevation:"10",outlined:"",rounded:"lg"}},[s("v-row",[s("v-col",{attrs:{cols:"10",offset:"1"}},[s("div",{staticClass:"text-center pt-5"},[s("h1",[t._v("Bem-vindo ao sistema Morto!")]),t._v(" "),s("p",[t._v('Sistema web para gerenciamento de "de cujus", pensionistas e processos.')]),t._v(" "),s("p",[t._v("Você precisa alterar a senha para efetuar o primeiro acesso")])])])],1),t._v(" "),s("v-container",{attrs:{fluid:""}},[s("v-form",{on:{submit:function(e){return e.preventDefault(),t.alterarSenhaResetada(e)}}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"8",offset:"2"}},[s("v-banner",{attrs:{elevation:"10",outlined:"",rounded:"lg"}},[s("i",{staticClass:"fa fa-lock"}),t._v(" "),s("span",{staticClass:"pl-5"}),t._v("\n                      Altere sua senha\n                    ")])],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"8",offset:"2"}},[s("v-card",{attrs:{elevation:"10",rounded:"lg"}},[s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"m-0"},[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off","error-messages":t.passwordErrors,type:t.show1?"text":"password",clearable:"",counter:"",dense:"",hint:"No mínimo 6 caracteres",label:"Senha",name:"password",outlined:"",required:""},on:{blur:function(e){return t.$v.password.$touch()},"click:append":function(e){t.show1=!t.show1},input:function(e){return t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-row",{staticClass:"mt-0"},[s("v-col",{attrs:{cols:"12"}},[s("v-btn",{attrs:{block:"",color:"primary",elevation:"2",type:"submit"}},[t._v("Alterar senha\n                            ")])],1),t._v(" "),s("v-col",[s("v-alert",{attrs:{type:"warning"}},[t._v(' Ao clicar em "ALTERAR SENHA", você será levado novamente para a tela de Login')])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},v=s("VU/8")(l,d,!1,null,null,null);e.default=v.exports}});
//# sourceMappingURL=0.911d1cb4ed89690ebea1.js.map